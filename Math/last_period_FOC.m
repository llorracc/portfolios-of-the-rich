(* % last_period solves for Vt in the last period of life for the given set of grid points and % for all possible states *)<<FindViaFOC_lastperiod.m;FindRiskyShareKt[[LifePosn]] = 0 &;FindKSharet[[LifePosn]]   = 0 &;RiskyShareKtInterpData[[LifePosn]]=  AddOutcome[    RiskyShareKtArgArray    ,Map[FindRiskyShareKt[[LifePosn]],RiskyShareKtArgArray]    ];    RiskyShareKtInterpFunc[[LifePosn]]=  Interpolation[RiskyShareKtInterpData[[LifePosn]],InterpolationOrder->1];KSharetInterpData[[LifePosn]]=AddOutcome[KSharetArgArray,Map[FindKSharet[[LifePosn]],KSharetArgArray]];KSharetInterpFunc[[LifePosn]]=Interpolation[KSharetInterpData[[LifePosn]],InterpolationOrder->1];EarliestEtVtp1Solved = LifePosn;<<make_interpolating_FOC.m;If[Length[AdditionalxGridPoints]>0,sGrid = Union[sGridBaseline,AdditionalxGridPoints-1]];                EarliestPeriodSolved = LifePosn;